{% extends "admin/base_site.html" %}
{% load i18n admin_urls static %}

{% block extrahead %}
    {{ block.super }}
    <script src="{% static 'admin/js/cancel.js' %}" defer></script>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
    &rsaquo; {% trans 'Bulk Update' %}
</div>
{% endblock %}

{% block content %}
<h1>{% trans 'Bulk Update' %}</h1>

<p>{% blocktrans with count=queryset.count %}You have selected {{ count }} items for bulk update.{% endblocktrans %}</p>

<form method="post">
    {% csrf_token %}
    
    <fieldset class="module aligned">
        <h2>{% trans 'Update Fields' %}</h2>
        <p class="help">{% trans 'Leave fields empty to keep existing values.' %}</p>
        
        {% for field in fields %}
        <div class="form-row">
            <label for="id_{{ field }}">{{ field|capfirst }}:</label>
            <input type="text" name="{{ field }}" id="id_{{ field }}" class="vTextField">
        </div>
        {% endfor %}
    </fieldset>
    
    <div class="submit-row">
        <input type="submit" name="apply" value="{% trans 'Apply changes' %}" class="default">
        <a href="{% url opts|admin_urlname:'changelist' %}" class="cancel-link">{% trans 'Cancel' %}</a>
    </div>
    
    {% for obj in queryset %}
        <input type="hidden" name="{{ action_checkbox_name }}" value="{{ obj.pk }}">
    {% endfor %}
    <input type="hidden" name="action" value="bulk_update">
    <input type="hidden" name="post" value="yes">
</form>
{% endblock %}